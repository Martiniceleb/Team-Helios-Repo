{"version":3,"sources":["../../../Finance_api/public/js/jautocalc.js"],"names":["_interopRequireDefault","require","_typeof2","modules","installedModules","__webpack_require__","moduleId","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","srcAdminTs","__webpack_exports__","init","destroy","_utils__WEBPACK_IMPORTED_MODULE_0__","_autocalc__WEBPACK_IMPORTED_MODULE_1__","NAMESPACE","TAG","EVENTS","jq","opts","vars","funcs","each","$ctx","$","attribute","$this","eq","attr","fields","length","keyEventsFire","fireEvents","split","join","_i","field","equation","equationFields","result","context","e","data","readOnlyResults","initFire","change","unbind","removeAttr","srcAutocalcTs","autoCalc","_parse__WEBPACK_IMPORTED_MODULE_0__","_utils__WEBPACK_IMPORTED_MODULE_1__","ctx","resultValue","numberFormat","dec","decPlaces","thou","sym","symLoc","func","f","RegExp","rgx","exec","v","replace","fieldValue","val","numValue","decimalOpts","thousandOpts","tmp","smartIntegers","isFunction","onShowResult","chainFire","srcFunctionsTs","jquery__WEBPACK_IMPORTED_MODULE_0__","jquery__WEBPACK_IMPORTED_MODULE_0___default","parseFloat","Math","min","apply","map","max","a","grep","srcIndexTs","_admin__WEBPACK_IMPORTED_MODULE_1__","_functions__WEBPACK_IMPORTED_MODULE_2__","_parse__WEBPACK_IMPORTED_MODULE_3__","fn","jAutoCalc","assign","method","extend","defaults","publicMethods","_len","arguments","args","Array","_key","_i2","_args","arg","toString","decimalPlaces","showParseError","emptyAsZero","srcParseTs","parse","ops","op","precedence","assoc","pow","exp","pi","atan2","parseVal","startOffset","offset","match","indexOf","string","substr","negate","parseExpr","error","Error","parseOp","stack","tos","pop","push","str","alert","concat","srcUtilsTs","findFields","getFieldSelector","numCleanse","numberFix","test","sepOpts","numOpts","ch","decLoc","z","charAt","inArray","num","toFixed","x","x2","x1","jquery","jQuery"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\n/******/\n(function (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && (0, _typeof2[\"default\"])(value) === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) {\n      __webpack_require__.d(ns, key, function (key) {\n        return value[key];\n      }.bind(null, key));\n    }\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n  /******/\n})(\n/************************************************************************/\n\n/******/\n{\n  /***/\n  \"./src/admin.ts\":\n  /*!**********************!*\\\n    !*** ./src/admin.ts ***!\n    \\**********************/\n\n  /*! exports provided: init, destroy */\n\n  /***/\n  function srcAdminTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"init\", function () {\n      return init;\n    });\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"destroy\", function () {\n      return destroy;\n    });\n    /* harmony import */\n\n\n    var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\n    /*! ./utils */\n    \"./src/utils.ts\");\n    /* harmony import */\n\n\n    var _autocalc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\n    /*! ./autocalc */\n    \"./src/autocalc.ts\");\n\n    var NAMESPACE = 'jautocalc';\n    var TAG = '_' + NAMESPACE;\n    var EVENTS = 'focus change blur';\n\n    function init(jq, opts, vars, funcs) {\n      return jq.each(function () {\n        var $ctx = $(this);\n        $('[' + opts.attribute + ']:not([' + TAG + '])', $ctx).each(function () {\n          var $this = $(this);\n          var eq = $this.attr(opts.attribute);\n          var fields = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"findFields\"])(eq);\n\n          if (fields.length == 0) {\n            return;\n          }\n\n          for (var i = 0; i < fields.length; i++) {\n            if ($(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFieldSelector\"])(fields[i]), $ctx).length == 0) {\n              return;\n            }\n          }\n\n          if (opts.keyEventsFire) {\n            EVENTS += ' keyup keydown keypress';\n          }\n\n          var fireEvents = EVENTS.split(' ').join('.' + NAMESPACE + ' ');\n\n          for (var _i = 0; _i < fields.length; _i++) {\n            var field = fields[_i];\n            $(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFieldSelector\"])(field), $ctx).bind(fireEvents, {\n              equation: eq,\n              equationFields: fields,\n              result: $this,\n              context: $ctx,\n              opts: opts,\n              vars: vars,\n              funcs: funcs\n            }, function (e) {\n              Object(_autocalc__WEBPACK_IMPORTED_MODULE_1__[\"autoCalc\"])(e.data.equation, e.data.equationFields, e.data.result, e.data.context, e.data.opts, e.data.vars, e.data.funcs);\n            });\n          }\n\n          if (opts.readOnlyResults) {\n            $this.attr('readonly', 'readonly');\n          }\n\n          $this.attr(TAG, TAG);\n\n          if (opts.initFire) {\n            $(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFieldSelector\"])(fields[0]), $ctx).change();\n          }\n        });\n      });\n    }\n\n    function destroy(jq, opts) {\n      return jq.each(function () {\n        var $ctx = $(this);\n        $('[' + opts.attribute + '][' + TAG + ']', $ctx).each(function () {\n          var $this = $(this);\n          var eq = $this.attr(opts.attribute);\n          var fields = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"findFields\"])(eq);\n\n          if (fields.length == 0) {\n            return;\n          }\n\n          for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            $(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFieldSelector\"])(field), $ctx).unbind('.' + NAMESPACE);\n          }\n\n          if (opts.readOnlyResults) {\n            $this.removeAttr('readonly');\n          }\n\n          $this.removeAttr(TAG);\n        });\n      });\n    }\n    /***/\n\n  },\n\n  /***/\n  \"./src/autocalc.ts\":\n  /*!*************************!*\\\n    !*** ./src/autocalc.ts ***!\n    \\*************************/\n\n  /*! exports provided: autoCalc */\n\n  /***/\n  function srcAutocalcTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"autoCalc\", function () {\n      return autoCalc;\n    });\n    /* harmony import */\n\n\n    var _parse__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\n    /*! ./parse */\n    \"./src/parse.ts\");\n    /* harmony import */\n\n\n    var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\n    /*! ./utils */\n    \"./src/utils.ts\");\n\n    function autoCalc(eq, fields, result, ctx, opts, vars, funcs) {\n      var resultValue = '';\n      var numberFormat = {\n        dec: '',\n        decPlaces: -1,\n        thou: '',\n        sym: '',\n        symLoc: -1\n      };\n\n      for (var func in funcs) {\n        var f = funcs[func];\n        var r = new RegExp(f.rgx, 'gi');\n        var m = void 0;\n\n        while ((m = r.exec(eq)) != null) {\n          var v = f.exec(m[1], ctx, opts, numberFormat);\n          eq = eq.replace(new RegExp(f.rgx, 'gi'), v);\n        }\n      }\n\n      for (var i = 0; i < fields.length; i++) {\n        var field = fields[i];\n        var fieldValue = $(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).val();\n        var numValue = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numCleanse\"])(fieldValue, opts, numberFormat);\n\n        if (numValue.length == 0) {\n          result.val('').change();\n          return;\n        }\n\n        eq = eq.replace(new RegExp('{' + field + '}', 'g'), numValue);\n      }\n\n      eq = eq.replace(/ /g, '');\n\n      if (numberFormat.dec == '') {\n        numberFormat.dec = opts.decimalOpts[0];\n      }\n\n      if (numberFormat.decPlaces == -1) {\n        numberFormat.decPlaces = 0;\n      }\n\n      if (numberFormat.thou == '') {\n        numberFormat.thou = opts.thousandOpts[0];\n      }\n\n      var tmp = Object(_parse__WEBPACK_IMPORTED_MODULE_0__[\"parse\"])(eq, opts);\n\n      if (tmp == null) {\n        resultValue = '';\n      } else {\n        resultValue = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numberFix\"])(tmp, numberFormat.decPlaces);\n      }\n\n      resultValue = resultValue.replace(/\\./g, '<c>');\n      resultValue = resultValue.replace(/\\,/g, '<t>');\n      resultValue = resultValue.replace(/<c>/g, numberFormat.dec);\n      resultValue = resultValue.replace(/<t>/g, numberFormat.thou);\n\n      if (numberFormat.symLoc > -1) {\n        if (numberFormat.symLoc == 0) {\n          resultValue = numberFormat.sym + resultValue;\n        } else {\n          resultValue = resultValue + numberFormat.sym;\n        }\n      }\n\n      if (opts.smartIntegers) {\n        resultValue = resultValue.replace(/[\\,\\.]0+$/, '');\n      }\n\n      if ($.isFunction(opts.onShowResult)) {\n        resultValue = opts.onShowResult.call(result, resultValue);\n      }\n\n      result.val(resultValue);\n\n      if (opts.chainFire) {\n        result.change();\n      }\n    }\n    /***/\n\n  },\n\n  /***/\n  \"./src/functions.ts\":\n  /*!**************************!*\\\n    !*** ./src/functions.ts ***!\n    \\**************************/\n\n  /*! exports provided: funcs */\n\n  /***/\n  function srcFunctionsTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"funcs\", function () {\n      return funcs;\n    });\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\n    /*! jquery */\n    \"jquery\");\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0___default =\n    /*#__PURE__*/\n    __webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n    /* harmony import */\n\n\n    var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\n    /*! ./utils */\n    \"./src/utils.ts\");\n\n    var funcs = {\n      'sum': {\n        rgx: 'sum\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx, opts, numberFormat) {\n          var m = 0;\n          jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).each(function () {\n            var n = parseFloat(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numCleanse\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).val(), opts, numberFormat));\n            m += n;\n          });\n          return m;\n        }\n      },\n      'avg': {\n        rgx: 'avg\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx, opts, numberFormat) {\n          var m = 0;\n          var c = jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).each(function () {\n            var n = parseFloat(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numCleanse\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).val(), opts, numberFormat));\n            m += n;\n          }).length;\n          return m / c;\n        }\n      },\n      'min': {\n        rgx: 'min\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx, opts, numberFormat) {\n          return Math.min.apply(this, jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).map(function (i, e) {\n            return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numCleanse\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(e).val(), opts, numberFormat);\n          }).get());\n        }\n      },\n      'max': {\n        rgx: 'max\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx, opts, numberFormat) {\n          return Math.max.apply(this, jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).map(function (i, e) {\n            return Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"numCleanse\"])(jquery__WEBPACK_IMPORTED_MODULE_0___default()(e).val(), opts, numberFormat);\n          }).get());\n        }\n      },\n      'count': {\n        rgx: 'count\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx) {\n          return jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx).length;\n        }\n      },\n      'countNotEmpty': {\n        rgx: 'countNotEmpty\\\\({([^}]+)}\\\\)',\n        exec: function exec(field, ctx) {\n          return jquery__WEBPACK_IMPORTED_MODULE_0___default.a.grep(jquery__WEBPACK_IMPORTED_MODULE_0___default()(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getFieldSelector\"])(field), ctx), function (n) {\n            var val = jquery__WEBPACK_IMPORTED_MODULE_0___default()(n).val() + '';\n            return val.length > 0;\n          }).length;\n        }\n      }\n    };\n    /***/\n  },\n\n  /***/\n  \"./src/index.ts\":\n  /*!**********************!*\\\n    !*** ./src/index.ts ***!\n    \\**********************/\n\n  /*! no exports provided */\n\n  /***/\n  function srcIndexTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\n    /*! jquery */\n    \"jquery\");\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0___default =\n    /*#__PURE__*/\n    __webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n    /* harmony import */\n\n\n    var _admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\n    /*! ./admin */\n    \"./src/admin.ts\");\n    /* harmony import */\n\n\n    var _functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\n    /*! ./functions */\n    \"./src/functions.ts\");\n    /* harmony import */\n\n\n    var _parse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\n    /*! ./parse */\n    \"./src/parse.ts\");\n\n    jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.jAutoCalc = Object.assign(function () {\n      var method = 'init';\n      var o = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, jquery__WEBPACK_IMPORTED_MODULE_0___default.a.fn.jAutoCalc.defaults);\n      var publicMethods = {\n        init: _admin__WEBPACK_IMPORTED_MODULE_1__[\"init\"],\n        destroy: _admin__WEBPACK_IMPORTED_MODULE_1__[\"destroy\"]\n      };\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      for (var _i2 = 0, _args = args; _i2 < _args.length; _i2++) {\n        var arg = _args[_i2];\n\n        if (typeof arg === 'string') {\n          method = arg.toString();\n        }\n\n        if ((0, _typeof2[\"default\"])(arg) === 'object') {\n          o = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend(o, arg);\n        }\n      }\n\n      var f = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend({}, _functions__WEBPACK_IMPORTED_MODULE_2__[\"funcs\"], o.funcs);\n      var v = jquery__WEBPACK_IMPORTED_MODULE_0___default.a.extend([], _parse__WEBPACK_IMPORTED_MODULE_3__[\"vars\"], o.vars);\n\n      if (publicMethods[method]) {\n        return publicMethods[method](this, o, v, f);\n      } else {\n        return Object(_admin__WEBPACK_IMPORTED_MODULE_1__[\"init\"])(this, o, v, f);\n      }\n    }, {\n      defaults: {\n        attribute: 'jAutoCalc',\n        thousandOpts: [',', '.', ' '],\n        decimalOpts: ['.', ','],\n        decimalPlaces: -1,\n        initFire: true,\n        chainFire: true,\n        keyEventsFire: false,\n        readOnlyResults: true,\n        showParseError: true,\n        emptyAsZero: false,\n        smartIntegers: false,\n        onShowResult: null,\n        funcs: {},\n        vars: {}\n      }\n    });\n    /***/\n  },\n\n  /***/\n  \"./src/parse.ts\":\n  /*!**********************!*\\\n    !*** ./src/parse.ts ***!\n    \\**********************/\n\n  /*! exports provided: vars, parse */\n\n  /***/\n  function srcParseTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"vars\", function () {\n      return vars;\n    });\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"parse\", function () {\n      return parse;\n    });\n\n    var ops = {\n      '+': {\n        op: '+',\n        precedence: 10,\n        assoc: 'L',\n        exec: function exec(l, r) {\n          return l + r;\n        }\n      },\n      '-': {\n        op: '-',\n        precedence: 10,\n        assoc: 'L',\n        exec: function exec(l, r) {\n          return l - r;\n        }\n      },\n      '*': {\n        op: '*',\n        precedence: 20,\n        assoc: 'L',\n        exec: function exec(l, r) {\n          return l * r;\n        }\n      },\n      '/': {\n        op: '/',\n        precedence: 20,\n        assoc: 'L',\n        exec: function exec(l, r) {\n          return l / r;\n        }\n      },\n      '**': {\n        op: '**',\n        precedence: 30,\n        assoc: 'R',\n        exec: function exec(l, r) {\n          return Math.pow(l, r);\n        }\n      }\n    };\n    var vars = {\n      e: Math.exp(1),\n      pi: Math.atan2(1, 1) * 4\n    };\n\n    function parseVal(r) {\n      var startOffset = r.offset;\n      var value;\n      var match;\n      value = 0;\n\n      while ('0123456789'.indexOf(r.string.substr(r.offset, 1)) >= 0 && r.offset < r.string.length) {\n        r.offset++;\n      }\n\n      if (r.string.substr(r.offset, 1) == '.') {\n        r.offset++;\n\n        while ('0123456789'.indexOf(r.string.substr(r.offset, 1)) >= 0 && r.offset < r.string.length) {\n          r.offset++;\n        }\n      }\n\n      if (r.offset > startOffset) {\n        return parseFloat(r.string.substr(startOffset, r.offset - startOffset));\n      } else if (r.string.substr(r.offset, 1) == '+') {\n        r.offset++;\n        return parseVal(r);\n      } else if (r.string.substr(r.offset, 1) == '-') {\n        r.offset++;\n        return negate(parseVal(r));\n      } else if (r.string.substr(r.offset, 1) == '(') {\n        r.offset++;\n        value = parseExpr(r);\n\n        if (r.string.substr(r.offset, 1) == ')') {\n          r.offset++;\n          return value;\n        }\n\n        r.error = \"Parsing error: ')' expected\";\n        throw new Error('parseError');\n      } else if ((match = /^[a-z_][a-z0-9_]*/i.exec(r.string.substr(r.offset))) != null) {\n        var name = match[0];\n        r.offset += name.length;\n\n        if (name in vars) {\n          return vars[name];\n        }\n\n        r.error = \"Semantic error: unknown variable '\" + name + \"'\";\n        throw new Error('unknownVar');\n      } else {\n        if (r.string.length == r.offset) {\n          r.error = 'Parsing error at end of string: value expected';\n          throw new Error('valueMissing');\n        } else {\n          r.error = \"Parsing error: unrecognized value\";\n          throw new Error('valueNotParsed');\n        }\n      }\n    }\n\n    ;\n\n    function negate(value) {\n      return -value;\n    }\n\n    ;\n\n    function parseOp(r) {\n      if (r.string.substr(r.offset, 2) == '**') {\n        r.offset += 2;\n        return ops['**'];\n      }\n\n      if ('+-*/'.indexOf(r.string.substr(r.offset, 1)) >= 0) {\n        return ops[r.string.substr(r.offset++, 1)];\n      }\n\n      return null;\n    }\n\n    ;\n\n    function parseExpr(r) {\n      var stack = [{\n        precedence: 0,\n        assoc: 'L'\n      }];\n      var value = parseVal(r);\n\n      for (;;) {\n        var op = parseOp(r) || {\n          precedence: 0,\n          assoc: 'L'\n        };\n\n        while (op.precedence < stack[stack.length - 1].precedence || op.precedence == stack[stack.length - 1].precedence && op.assoc == 'L') {\n          var tos = stack.pop();\n\n          if (!tos.exec) {\n            return value;\n          }\n\n          value = tos.exec(tos.value, value);\n        }\n\n        stack.push({\n          op: op.op,\n          precedence: op.precedence,\n          assoc: op.assoc,\n          exec: op.exec,\n          value: value\n        });\n        value = parseVal(r);\n      }\n    }\n\n    ;\n\n    function parse(str, opts) {\n      var r = {\n        string: str,\n        offset: 0\n      };\n\n      try {\n        var value = parseExpr(r);\n\n        if (r.offset < r.string.length) {\n          r.error = 'Syntax error: junk found at offset ' + r.offset;\n          throw new Error('trailingJunk');\n        }\n\n        return value;\n      } catch (e) {\n        if (opts.showParseError) {\n          alert(\"\".concat(r.error, \" (\").concat(e, \"):\\n\").concat(r.string.substr(0, r.offset), \"<*>\").concat(r.string.substr(r.offset)));\n        }\n\n        return null;\n      }\n    }\n\n    ;\n    /***/\n  },\n\n  /***/\n  \"./src/utils.ts\":\n  /*!**********************!*\\\n    !*** ./src/utils.ts ***!\n    \\**********************/\n\n  /*! exports provided: findFields, getFieldSelector, numCleanse, numberFix */\n\n  /***/\n  function srcUtilsTs(module, __webpack_exports__, __webpack_require__) {\n    \"use strict\";\n\n    __webpack_require__.r(__webpack_exports__);\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"findFields\", function () {\n      return findFields;\n    });\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"getFieldSelector\", function () {\n      return getFieldSelector;\n    });\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"numCleanse\", function () {\n      return numCleanse;\n    });\n    /* harmony export (binding) */\n\n\n    __webpack_require__.d(__webpack_exports__, \"numberFix\", function () {\n      return numberFix;\n    });\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\n    /*! jquery */\n    \"jquery\");\n    /* harmony import */\n\n\n    var jquery__WEBPACK_IMPORTED_MODULE_0___default =\n    /*#__PURE__*/\n    __webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);\n\n    function findFields(eq) {\n      var fields = [];\n      var r = /{([^}]+)}/gi;\n      var m;\n\n      while ((m = r.exec(eq)) != null) {\n        fields.push(m[1]);\n      }\n\n      return fields;\n    }\n\n    ;\n\n    function getFieldSelector(field) {\n      if (/^[a-zA-Z].*/.test(field)) {\n        return ':input[name=\"' + field + '\"]';\n      }\n\n      return field;\n    }\n\n    ;\n\n    function numCleanse(value, opts, numberFormat) {\n      var fieldValue = value + '';\n      var sepOpts = opts.decimalOpts.concat(opts.thousandOpts);\n      var numOpts = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '-'];\n      var numValue = '';\n      var ch = '';\n      var dec = '';\n      var decLoc = -1;\n      var thou = '';\n      var sym = '';\n      var symLoc = -1;\n      var decPlaces = 0;\n\n      for (var z = fieldValue.length - 1; z >= 0; z--) {\n        ch = fieldValue.charAt(z);\n\n        if (jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(ch, numOpts) != -1) {\n          numValue = ch + numValue;\n        } else {\n          if (dec == '' && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(ch, opts.decimalOpts) != -1) {\n            decLoc = z;\n            dec = ch;\n            numValue = '.' + numValue;\n          } else if (thou == '' && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(ch, opts.thousandOpts) != -1) {\n            thou = ch;\n          } else if (sym == '' && jquery__WEBPACK_IMPORTED_MODULE_0___default.a.inArray(ch, sepOpts) == -1 && (z == 0 || z == fieldValue.length - 1)) {\n            sym = ch;\n            symLoc = z;\n          }\n        }\n      }\n\n      if (dec != '') {\n        decPlaces = fieldValue.length - decLoc - 1;\n\n        if (symLoc > decLoc) {\n          decPlaces--;\n        }\n      }\n\n      if (opts.decimalPlaces != -1) {\n        decPlaces = opts.decimalPlaces;\n      }\n\n      if (arguments.length === 3) {\n        if (numberFormat.dec == '' && dec != '') {\n          numberFormat.dec = dec;\n        }\n\n        if (numberFormat.decPlaces == -1 && decPlaces != -1 || numberFormat.decPlaces != -1 && decPlaces != -1 && decPlaces < numberFormat.decPlaces) {\n          numberFormat.decPlaces = decPlaces;\n        }\n\n        if (numberFormat.thou == '' && thou != '') {\n          numberFormat.thou = thou;\n        }\n\n        if (numberFormat.sym == '' && sym != '') {\n          numberFormat.sym = sym;\n          numberFormat.symLoc = symLoc;\n        }\n      }\n\n      if (opts.emptyAsZero && numValue == '') {\n        numValue = '0';\n      }\n\n      return numValue;\n    }\n\n    ;\n\n    function numberFix(num, decPlaces) {\n      var n = num.toFixed(decPlaces) + '';\n      var x = n.split('.');\n      var x2 = x.length > 1 ? '.' + x[1] : '';\n      var rgx = /(\\d+)(\\d{3})/;\n      var x1 = x[0];\n\n      while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n      }\n\n      return x1 + x2;\n    }\n\n    ;\n    /***/\n  },\n\n  /***/\n  \"jquery\":\n  /*!*************************!*\\\n    !*** external \"jQuery\" ***!\n    \\*************************/\n\n  /*! no static exports found */\n\n  /***/\n  function jquery(module, exports) {\n    module.exports = jQuery;\n    /***/\n  }\n  /******/\n\n});\n//# sourceMappingURL=jautocalc.js.map"],"file":"jautocalc.js"}